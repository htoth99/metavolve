profiles {
    standard {
        singularity.enabled = true
        singularity.cacheDir = '/fs/scratch/PAS1568/htoth99/singularity'
        conda.enabled = true
        conda.useMamba = true
        conda.cacheDir = '/fs/scratch/PAS1568/htoth99/conda'
        process {
            withName: 'TRIMGALORE' {
                container = 'oras://community.wave.seqera.io/library/trim-galore:0.6.10--fef117c83afd5e0c'
                executor = 'slurm'
                time = 30.min
                memory = 500.MB
                clusterOptions = '-A PAS1568'
            }
            withName: 'HOSTINDEX' {
                container = 'oras://community.wave.seqera.io/library/bowtie2_python:bef6732c3362f2dd'
                executor = 'slurm'
                time = 6.hour
                memory = 20.GB
                clusterOptions = '-A PAS1568' 
            }
            withName: 'HOSTREMOVE' {
                container = 'oras://community.wave.seqera.io/library/bowtie2_python:bef6732c3362f2dd'
                executor = 'slurm'
                time = 4.hour
                memory = 15.GB
                clusterOptions = '-A PAS1568'
            }
            withName: 'KRAKEN2' {
                container = 'oras://community.wave.seqera.io/library/kraken2:2.1.3--fb44221536fbccbe'
                executor = 'slurm'
                time = 1.hour
                memory = 65.GB
                clusterOptions = '-A PAS1568'
            }
            withName: 'ASSEMBLY' {
                container = 'oras://community.wave.seqera.io/library/spades:4.0.0--b92bae78737675b2'
                executor = 'slurm'
                time = 4.hour
                memory = 50.GB
                clusterOptions = '-A PAS1568'
            }
            withName: 'ASSEMBLYINDEX' {
                container = 'oras://community.wave.seqera.io/library/bedtools_bwa_samtools:357203cb0c27dd40'
                executor = 'slurm'
                time = 1.hour
                memory = 20.GB
                clusterOptions = '-A PAS1568'
            }
            /* withName: 'CONCOCT' {
                container = 'oras://community.wave.seqera.io/library/concoct:1.1.0--c18be443b5bd4901'
                executor = 'slurm'
                time = 2.hour
                memory = 20.GB
                clusterOptions = '-A PAS1568'
            }
            */
            withName: 'MAXBIN2' {
                container = 'https://depot.galaxyproject.org/singularity/maxbin2:2.2.7--he1b5a44_2'
                executor = 'slurm'
                time = 1.hour
                memory = 5.GB
                clusterOptions = '-A PAS1568'
            }
            withName: 'METABAT2' {
                container = 'oras://community.wave.seqera.io/library/metabat2:2.17--0ae4a8dfde1fdde6'
                executor = 'slurm'
                time = 1.hour
                memory = 10.GB
                clusterOptions = '-A PAS1568'
            }
        }
    }
}

